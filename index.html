<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      /* CSS in counter-no-shadow affects everything in the page. */
      /* CSS in counter-shadow-open and counter-shadow-closed does not. */
      button {
        background-color: blue;
        color: black;
      }
    </style>

    <script src="counter-no-shadow.js"></script>
    <script src="counter-shadow-open.js"></script>
    <script src="counter-shadow-closed.js"></script>

    <script>
      window.onload = () => {
        console.log("index.html: onload entered");

        const cns = document.querySelector("counter-no-shadow");
        cns.setAttribute("count", 5);

        const cso = document.querySelector("counter-shadow-open");
        cso.setAttribute("count", 5);

        // This works even though the shadow DOM is in closed mode.
        const csc = document.querySelector("counter-shadow-closed");
        csc.setAttribute("count", 5);
      };

      function reportCount() {
        let counter = document.querySelector("counter-no-shadow");
        counter.count = 19;
        console.log("no shadow: counter.count =", counter.count);

        counter = document.querySelector("counter-shadow-open");
        counter.count = 19;
        console.log("shadow open: counter.count =", counter.count);

        counter = document.querySelector("counter-shadow-closed");
        counter.count = 19;
        console.log("shadow closed: counter.count =", counter.count);
      }
    </script>
  </head>
  <body>
    <h1>Counters</h1>

    <h2>No Shadow</h2>
    <!-- Rending this element causes its CSS to affect the entire page. -->
    <counter-no-shadow count="3"></counter-no-shadow>

    <h2>Shadow Open</h2>
    <counter-shadow-open count="3"></counter-shadow-open>

    <h2>Shadow Closed</h2>
    <counter-shadow-closed count="3"></counter-shadow-closed>

    <h2>Lit</h2>
    <!-- TODO: Implement a counter component in Lit for comparison. -->

    <h2>Outside Web Components</h2>
    <p>Note whether styles in the web components affect this.</p>
    <button onclick="reportCount()" type="button">Click Me</button>
  </body>
</html>
